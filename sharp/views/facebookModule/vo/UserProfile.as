package sharp.views.facebookModule.vo{	import flash.display.Bitmap;	import flash.display.Loader;	import flash.display.LoaderInfo;	import flash.display.Sprite;	import flash.events.Event;	import flash.net.URLLoader;	import flash.net.URLRequest;	import flash.system.ApplicationDomain;	import flash.system.LoaderContext;	import flash.text.TextField;	import flash.text.TextFieldAutoSize;	import flash.text.TextFormat;		public class UserProfile extends Sprite	{		private var userData:UserData;		private var userPhoto:Bitmap;				private var nameField:TextField;				public function UserProfile(_userData:UserData)		{			userData = _userData;						buildUserPhoto();		}				public function buildUserPhoto():void{			var loader:Loader = new Loader();			var context:LoaderContext = new LoaderContext(true);			loader.contentLoaderInfo.addEventListener(Event.COMPLETE, onLoadPhotoComplete, false, 0, true);			loader.load(new URLRequest(photoRequestUrl),context);		}				public function onLoadPhotoComplete(e:Event):void{			var loaderInfo:LoaderInfo = LoaderInfo(e.currentTarget);			loaderInfo.removeEventListener(Event.COMPLETE, onLoadPhotoComplete);						userPhoto = loaderInfo.loader.content as Bitmap;			userPhoto.smoothing = true;			addChild(userPhoto);						buildUserName();		}				public function buildUserName():void{			nameField = new TextField();			var format:TextFormat = new TextFormat();			format.size = 10;			nameField.defaultTextFormat = format;			nameField.width = userPhoto.width;			nameField.wordWrap = true;			nameField.autoSize = TextFieldAutoSize.LEFT;			nameField.text = userData.userName//.replace(new RegExp(" ","gs"), "\n");			nameField.y = userPhoto.height			addChild(nameField);		}	}}